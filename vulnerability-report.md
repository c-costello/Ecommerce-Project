# Vulnerability Report

## 1 - SQL Injection
#### Exposure
When using SQL injection, databases can be vunerable if proper steps aren't taken. SQL injection is where a user inputs something, such as a username, that includes a SQL command. That way, when that SQL command is called using that string, an additional SQL command runs.
#### Repair
We avoid this problem by using lamda expressions instead of SQL statements to gather data from the table. This way there is no potential for odd SQL calls to be made. Were we using SQL statements, the best way to avoid danger is to not concatinate strings into a SQL statement.

## 2 - Using components with known vulnerabilities
#### Exposure
If a developer does not use the most up to date packages, there is potential for weaknesses that can be exploited by external forces. The best way to ensure this does not happen is to run a check on your packages.
#### Repair
We ran a check on all the packages we have installed, and found that they were indeed the most up to date. No repair needed, but running the check was a good idea.

## 3 - Purchasing Negative Item Quantities
#### Exposure
A user is able to input negative integers into the quantity field when adding a product to their basket. This could potentially allow users to checkout purchases of negative dollar amounts, invalidating a transaction or even causing funds to incorrectly be given to the user.
#### Repair
Data validation was added to both the view data forms and all models involving product quantity.

> [Range(1, 1000, ErrorMessage = "Please enter a quantity between 1 and 1000.")]
* The Range data annotation will limit the property to be set only within the given range, and return an error message if an assigned amount is not.

> \<input name="quantity" id="quantity" type="number" value="1" min="1"/>
* On the front end, the "min" attribute restricts user inputs to the minimum provided value.

## 4 - Access to Admin Management Pages
#### Exposure
Without proper authorization, any user, even an unregistered user, could access the Administration pages of the web app. This would expose every managed database to malicious attacks or data theft.
#### Repair
The Asp.NET Authorization library allows us to add authorization policies to controllers or methods that direct to views within the web app. 

> [Authorize(Policy = "AdminOnly")]
* In this case, the policy is based on the role assigned to users upon registration. By placing this attribute on all classes that have actions directing to admin pages, only users with the "Admin" role will be able to access them.